html,
body {
  box-sizing: border-box;
  margin: 0;
  background-color: gray;
}
$checkbox-size: 10rem;
$checkbox-aspect-ratio: 2.5;
$slider-shadow-offset: 0.2rem;
$slider-shadow-blur: 0.2rem;
.checkbox {
  position: absolute;
  top: 10rem;
  left: 12rem;
  $width: $checkbox-size;
  $aspect: $checkbox-aspect-ratio;
  width: $width;
  aspect-ratio: $aspect;
  background-color: gray;
  border-radius: calc($width / $aspect);
  transition: all 300ms;
  overflow: clip;
}
.checkbox-sun-background {
  background-color: #3a89c7;
  background-image: url("/res/images/clouds.png");
  background-size: cover;
  background-position: 50% -10%;
  background-repeat: no-repeat;
  box-shadow: calc(-1.5 * $slider-shadow-offset)
    calc(-0.8 * $slider-shadow-offset) calc(4 * $slider-shadow-blur) #1b4665
    inset;
}
.checkbox-moon-background {
  background-color: #0e0e0e;
  background-image: url("/res/images/stars.png");
  background-size: cover;
  background-position: 40%;
  background-repeat: repeat;
  box-shadow:
    -$slider-shadow-offset calc(-1.5 * $slider-shadow-offset)
      calc(3 * $slider-shadow-blur) #000000 inset,
    $slider-shadow-offset $slider-shadow-offset calc(3 * $slider-shadow-blur)
      #000000;
}
.moon {
  background-image: url("res/images/moon.png") !important;
  filter: drop-shadow(
    -$slider-shadow-offset calc(0.5 * $slider-shadow-offset) calc(
        8 * $slider-shadow-blur
      ) #818181
  );
}
.sun {
  background-image: url("res/images/sun.png") !important;
  filter: drop-shadow(
    calc(0.5 * $slider-shadow-offset) calc(0.5 * $slider-shadow-offset)
      calc(4 * $slider-shadow-blur) #9e8b35
  );
}
.slide {
  transform: translateX($checkbox-size * 0.6);
}
.checkbox-slider {
  background-image: url("res/images/sun.png");
  background-position: center center;
  background-size: contain;
  position: absolute;
  $size: calc($checkbox-size / 3);
  margin: calc($size / 10);
  left: 0;
  top: 0;
  aspect-ratio: 1;
  width: $size;
  border-radius: calc($size / 2);
  transition: all 300ms ease-in-out;
}
